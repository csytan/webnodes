{% extends "base.html" %}

{% load tag_extras %}

{% block title %}
    <title>{{ title }}</title>
{% endblock %}


{% block style %}
    <style>
        #content {
            width: 1000px;
        }
    
        #sidebar {
            width: 200px;
            float: right;
        }
        
        a.tag {
            padding: 2px;
            font-size: 1.1em;
            background-color: #9BB2BF;
            line-height: 1.8em;
        }
        
        a.tag:hover {
            background-color: #A7CBDF;
        }
        
        .topic {
            width: 500px;
            padding: 10px;
            margin: auto;
            margin-bottom: 15px;
        }

        .topic p {
            margin-bottom: 0px;
        }
    </style>
{% endblock %}


{% block content %}
    <div id="sidebar">
        <h2><a href="/{{ group }}/new_topic">Start a topic</a></h2>
        {{ sidebar|markdownify }}
    </div>

    {% for topic in topics %}
        <div class="topic box">
            <h1><a href="/{{ group }}/{{ topic.id }}">{{ topic.title }}</a></h1>

            {% if topic.tag %}
                <a class="tag" href="/{{ topic.tag }}">{{ topic.tag }}</a>
                <br>
            {% endif %}

            <p style="text-align:right">
                {{ topic.points }} points, 
                {{ topic.num_comments }} comments,
                {% ifequal group 'reddit' %}
                    by <a href="http://www.reddit.com/user/{{ topic.author }}">{{ topic.author }}</a>,
                {% else %}
                    by <a href="/users/{{ topic.author }}">{{ topic.author }}</a>,
                {% endifequal %}
                {{ topic.updated|timeago }}
            </p>
        </div>
    {% endfor %}
{% endblock %}


