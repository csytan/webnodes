{% extends "base.html" %}

{% load tag_extras %}

{% block style %}
    <style>
        #content {
            width: 1000px;
        }
    
        #sidebar {
            float: right;
        }
        
        a.tag {
            padding: 2px;
            font-size: 1.1em;
            background-color: #9BB2BF;
            line-height: 1.8em;
        }
        
        a.tag:hover {
            background-color: #A7CBDF;
        }
        
        .topic {
            width: 500px;
            padding: 10px;
            margin: auto;
            margin-bottom: 15px;
        }

        .topic p {
            margin-bottom: 0px;
        }
    </style>
{% endblock %}


{% block content %}
    <div id="sidebar">
        <a href="/{{ group }}/new_topic">Start a topic</a>
        {% if user.is_anonymous %}
            <form action="/users/login" method="post">
                <input id="id_username" type="text" name="username" value="username" maxlength="30">
                <br>
                <input type="password" name="password" value="password" id="id_password">
                <br>
                <input type="submit" value="Register">
                <input type="submit" value="Sign in">
            </form>
        {% endif %}
        
        <h3>Tags</h3>
        {% for tag in tags %}
            <div>
                <a class="tag" href="/{{ tag.name }}">{{ tag.name }} ({{ tag.count }})</a>
            </div>
        {% endfor %}
    </div>

    {% for topic in topics %}
        <div class="topic box">
            <a class="title" href="/{{ group }}/{{ topic.id }}">{{ topic.title }}</a>

            {% if topic.tag %}
                <a class="tag" href="/{{ topic.tag }}">{{ topic.tag }}</a>
                <br>
            {% endif %}

            <p style="text-align:right">
                {{ topic.points }} points, 
                {{ topic.num_comments }} comments,
                {% ifequal group 'reddit' %}
                    by <a href="http://www.reddit.com/user/{{ topic.author }}">{{ topic.author }}</a>,
                {% else %}
                    by <a href="/users/{{ topic.author }}">{{ topic.author }}</a>,
                {% endifequal %}
                {{ topic.updated|timeago }}
            </p>
        </div>
    {% endfor %}
{% endblock %}


