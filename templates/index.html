{% extends "base.html" %}


{% block style %}
    <style>
        .topic { margin-bottom: 2em; }
    </style>
{% end %}


{% block content %}
    {% for topic in topics %}
        <div class="topic">
            <h2>
                <a href="{% if topic.link %}{{ topic.link }}{% else %}/{{ topic.id }}{% end %}">{{ escape(topic.title) }}</a>
            </h2>
            <p class="topic_info">
                {% if topic.points == 1 %}
                    1 point
                {% else %}
                    {{ topic.points }} points
                {% end %}
                
                {% if topic.author %}
                    by <a href="/users/{{ topic.author.name }}">{{ topic.author.name }}</a>
                {% else %}
                    by anonymous
                {% end %}
                
                {{ locale.format_date(topic.created) }},
                <a href="/{{ topic.id }}">
                    {% if topic.n_comments == 1 %}
                        1 comment
                    {% else %}
                        {{ topic.n_comments }} comments
                    {% end %}
                </a>
            </p>
        </div>
    {% end %}
{% end %}
